<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopEasy - E-Commerce</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!-- Navigation -->
<nav class="navbar">
    <div class="container">
        <div class="nav-brand">
            <h1>üõçÔ∏è ShopEasy</h1>
        </div>
        <div class="nav-menu">
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <div class="nav-user" id="navUser">
                <a href="login.html" id="loginLink">Login</a>
                <a href="signup.html" id="signupLink">Sign Up</a>
            </div>
            <div class="nav-user-logged" id="navUserLogged" style="display: none;">
                <a href="cart.html">
                    <span>üõí Cart</span>
                    <span class="cart-count" id="cartCount">0</span>
                </a>
                <a href="wishlist.html">‚ù§Ô∏è Wishlist</a>
                <a href="orders.html">üì¶ Orders</a>
                <a href="profile.html">üë§ Profile</a>
                <a href="#" id="logoutLink">Logout</a>
            </div>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-content">
            <h1>Welcome to ShopEasy</h1>
            <p>Discover amazing products at great prices</p>
            <a href="products.html" class="btn btn-primary">Shop Now</a>
        </div>
    </div>
</section>

<!-- Featured Products -->
<section class="featured-products">
    <div class="container">
        <h2>Featured Products</h2>
        <div class="products-grid" id="featuredProducts">
            <div class="loading">Loading products...</div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer>
    <div class="container">
        <p>&copy; 2024 ShopEasy. All rights reserved.</p>
    </div>
</footer>

<script src="js/auth.js"></script>
<script>
    // Load featured products
    async function loadFeaturedProducts() {
        try {
            const response = await fetch('http://localhost:8080/api/products');
            const products = await response.json();

            const container = document.getElementById('featuredProducts');
            container.innerHTML = products.slice(0, 8).map(product => `
                <div class="product-card">
                    <img src="${product.imageUrl || 'https://via.placeholder.com/250'}" alt="${product.name}">
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <div class="product-rating">
                            ${'‚≠ê'.repeat(Math.round(product.averageRating))}
                            <span>(${product.reviewCount} reviews)</span>
                        </div>
                        <p class="product-price">$${product.price}</p>
                        <a href="product-detail.html?id=${product.id}" class="btn btn-secondary">View Details</a>
                    </div>
                </div>
            `).join('');
        } catch (error) {
            console.error('Error loading products:', error);
            document.getElementById('featuredProducts').innerHTML = '<p>Error loading products</p>';
        }
    }

    loadFeaturedProducts();
</script>
</body>
</html>